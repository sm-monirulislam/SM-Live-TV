name: üöÄ Run All Playlist Updates (Main Controller)

on:
  workflow_dispatch:
  schedule:
    - cron: "*/30 * * * *"

permissions:
  contents: write
  id-token: write

jobs:
  crichd:
    uses: ./.github/workflows/CricHD_update_playlist.yml
    secrets: inherit

  fancode:
    needs: crichd
    if: always()
    uses: ./.github/workflows/Fancode_update.yml
    secrets: inherit

  toffee:
    needs: fancode
    if: always()
    uses: ./.github/workflows/toffee_main.yml
    secrets: inherit

  aynaott:
    needs: toffee
    if: always()
    uses: ./.github/workflows/auto_aynaott.yml
    secrets: inherit

  roarzone:
    needs: aynaott
    if: always()
    uses: ./.github/workflows/Roar-Zone.yml
    secrets: inherit

  wait-before-combined:
    needs: roarzone
    if: always()
    runs-on: ubuntu-latest
    steps:
      - name: ‚è≥ Wait 2 minutes
        run: sleep 120

  combined:
    needs: wait-before-combined
    if: always()
    uses: ./.github/workflows/combined.yml
    secrets: inherit
